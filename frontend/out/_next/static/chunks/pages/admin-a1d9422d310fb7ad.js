(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4830:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return a(2705)}])},2705:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return x}});var t=a(5893),l=a(7294),r=a(1664),n=a.n(r),i=a(1163),d=a(3700),c=a(6458),m=a(6501);function x(){let e=(0,i.useRouter)(),{admin:s,logout:a,isAuthenticated:r,isLoading:x}=(0,d.a)(),[o,h]=(0,l.useState)("dashboard"),[p,g]=(0,l.useState)([]),[j,u]=(0,l.useState)([]),[N,b]=(0,l.useState)([]),[y,f]=(0,l.useState)([]),[v,D]=(0,l.useState)({emailUnverified:0,emailVerified:0,pending:0,approved:0,total:0}),[w,A]=(0,l.useState)(!0),[C,E]=(0,l.useState)(new Set);(0,l.useEffect)(()=>{if(!x){if(!r||!s){e.push("/admin-login");return}P()}},[r,s,e]);let P=async()=>{try{A(!0);let[e,s]=await Promise.all([c.Sb.getUsers(),c.Sb.getTransactions()]),a=e.data;g(a.approvedUsers||[]),u(a.pendingUsers||[]),b(a.unverifiedUsers||[]),D(a.stats||{emailUnverified:0,emailVerified:0,pending:0,approved:0,total:0}),f(s.data.transactions||[])}catch(e){console.error("Error fetching data:",e),m.ZP.error("Error loading dashboard data")}finally{A(!1)}},S=async e=>{try{await c.Sb.approveUser(e),m.ZP.success("User approved successfully!"),P()}catch(s){let e=(0,c.$G)(s);m.ZP.error(e)}},T=async(e,s)=>{let a="approve"===s?"approve":"reject",t=prompt("Please enter a comment for this ".concat(a,"al (optional):"));try{m.ZP.loading("".concat("approve"===s?"Approving":"Rejecting"," transaction..."),{id:"transaction-action"}),await c.Sb.approveTransaction({transactionId:e,action:s,adminComment:t||void 0}),m.ZP.success("Transaction ".concat(a,"d successfully!"),{id:"transaction-action"}),P()}catch(s){console.error("Transaction ".concat(a," error:"),s);let e=(0,c.$G)(s);m.ZP.error(e,{id:"transaction-action"})}},I=e=>{let s=new Set(C);s.has(e)?s.delete(e):s.add(e),E(s)},k=async()=>{try{m.ZP.loading("Testing API connection...",{id:"test-api"}),console.log("\uD83D\uDD0D Testing health endpoint...");let e=await fetch("https://banky-app-samaj.vercel.app/api/health");if(console.log("Health response:",e.status,e.statusText),e.ok){let s=await e.json();console.log("✅ Health check passed:",s)}console.log("\uD83D\uDD0D Testing simple endpoint...");let s=await fetch("https://banky-app-samaj.vercel.app/api/test-simple",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({test:"simple"})});if(console.log("Simple endpoint response:",s.status,s.statusText),s.ok){let e=await s.json();m.ZP.success("API connection working!",{id:"test-api"}),console.log("✅ API test result:",e)}else{let e=await s.text();m.ZP.error("API test failed: ".concat(s.status),{id:"test-api"}),console.error("❌ API test error:",e)}}catch(e){console.error("API test error:",e),m.ZP.error("API connection failed",{id:"test-api"})}},_=async()=>{let e=prompt("Enter email address to test:");if(e)try{m.ZP.loading("Testing email configuration...",{id:"test-email-simple"});let s=await fetch("https://banky-app-samaj.vercel.app/api/test-email-simple",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),a=await s.json();s.ok?(m.ZP.success("Email configuration working!",{id:"test-email-simple"}),console.log("✅ Email config result:",a)):(m.ZP.error("Email config issue: ".concat(a.error),{id:"test-email-simple"}),console.error("❌ Email config error:",a))}catch(e){console.error("Email config test error:",e),m.ZP.error("Email configuration test failed",{id:"test-email-simple"})}},R=async()=>{let e=prompt("Enter email address to test:");if(e)try{m.ZP.loading("Sending test email...",{id:"test-email"});let s=await c.Sb.testEmail(e);m.ZP.success("Test email sent successfully!",{id:"test-email"}),console.log("✅ Email test result:",s.data)}catch(s){console.error("Test email error:",s);let e=(0,c.$G)(s);m.ZP.error("Failed to send test email: ".concat(e),{id:"test-email"})}};return w?(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Loading admin dashboard..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,t.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,t.jsx)("div",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(n(),{href:"/admin",className:"flex items-center space-x-4 hover:opacity-80 transition-opacity",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-red-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white font-bold",children:"⚡"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"BankyApp Admin"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Administrator Dashboard"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)(n(),{href:"/",className:"px-3 py-1.5 text-xs bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors mr-2",children:"\uD83C\uDFE0 Home"}),(0,t.jsx)("button",{onClick:k,className:"px-3 py-1.5 text-xs bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors mr-2",title:"Test API Connection",children:"\uD83D\uDD17 Test API"}),(0,t.jsx)("button",{onClick:_,className:"px-3 py-1.5 text-xs bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors mr-2",title:"Test Email (Simple)",children:"\uD83D\uDCE7 Simple Email"}),(0,t.jsx)("button",{onClick:R,className:"px-3 py-1.5 text-xs bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors",title:"Test Email Configuration",children:"\uD83D\uDCE7 Full Email"}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:null==s?void 0:s.name}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:null==s?void 0:s.email})]}),(0,t.jsx)("button",{onClick:()=>{a(),e.push("/admin-login")},className:"btn-secondary text-sm",children:"Logout"})]})]})})}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("aside",{className:"w-64 bg-white shadow-sm min-h-screen",children:(0,t.jsxs)("nav",{className:"p-4 space-y-2",children:[(0,t.jsx)("button",{onClick:()=>h("dashboard"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("dashboard"===o?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),children:"\uD83D\uDCCA Dashboard"}),(0,t.jsxs)("button",{onClick:()=>h("users"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("users"===o?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),children:["\uD83D\uDC65 Users (",j.length," pending)"]}),(0,t.jsx)("button",{onClick:()=>h("transactions"),className:"w-full text-left px-4 py-2 rounded-lg transition-colors ".concat("transactions"===o?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),children:"\uD83D\uDCB3 Transactions"})]})}),(0,t.jsxs)("main",{className:"flex-1 p-6",children:["dashboard"===o&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Dashboard Overview"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-3 rounded-full bg-blue-100",children:(0,t.jsx)("span",{className:"text-blue-600 text-xl",children:"\uD83D\uDC65"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Users"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:v.total})]})]})}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-3 rounded-full bg-red-100",children:(0,t.jsx)("span",{className:"text-red-600 text-xl",children:"\uD83D\uDCE7"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Email Unverified"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:v.emailUnverified})]})]})}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-3 rounded-full bg-yellow-100",children:(0,t.jsx)("span",{className:"text-yellow-600 text-xl",children:"⏳"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Pending Approval"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:v.pending})]})]})}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-3 rounded-full bg-green-100",children:(0,t.jsx)("span",{className:"text-green-600 text-xl",children:"✅"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Approved Users"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:v.approved})]})]})}),(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-3 rounded-full bg-purple-100",children:(0,t.jsx)("span",{className:"text-purple-600 text-xl",children:"\uD83D\uDCB3"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Transactions"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:y.length})]})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pending Approvals"}),(0,t.jsxs)("div",{className:"space-y-3",children:[j.slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.email})]}),(0,t.jsx)("button",{onClick:()=>S(e._id),className:"btn-success text-sm",children:"Approve"})]},e._id)),0===j.length&&(0,t.jsx)("p",{className:"text-gray-600 text-center py-4",children:"No pending approvals"})]})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Transactions"}),(0,t.jsxs)("div",{className:"space-y-3",children:[y.slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:(0,c.xG)(e.amount)}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[e.senderName||e.senderAccount," → ",e.receiverName||e.receiverAccount]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[e.senderAccount," → ",e.receiverAccount]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("span",{className:"badge ".concat((0,c.Ep)(e.status)),children:e.status}),"pending"===e.status&&(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded",children:"Needs Approval"})})]})]},e._id)),0===y.length&&(0,t.jsx)("p",{className:"text-gray-600 text-center py-4",children:"No recent transactions"})]})]})]})]}),"users"===o&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),(0,t.jsx)("button",{onClick:P,className:"btn-primary",children:"Refresh"})]}),N.length>0&&(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["❌ Email Unverified Users (",N.length,")"]}),(0,t.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:(0,t.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,t.jsx)("strong",{children:"Note:"})," These users have registered but haven't verified their email yet. Only email-verified users are eligible for approval."]})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"table",children:[(0,t.jsx)("thead",{className:"table-header",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Name"}),(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Email"}),(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Phone"}),(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Registered"}),(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Status"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:N.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"table-cell font-medium text-gray-900",children:e.name}),(0,t.jsx)("td",{className:"table-cell text-gray-600",children:e.email}),(0,t.jsx)("td",{className:"table-cell text-gray-600",children:e.phone}),(0,t.jsx)("td",{className:"table-cell text-gray-600",children:(0,c.p6)(e.createdAt)}),(0,t.jsx)("td",{className:"table-cell",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Email Not Verified"})})]},e._id))})]})})]}),j.length>0&&(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["⏳ Email Verified - Pending Approval (",j.length,")"]}),(0,t.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:(0,t.jsxs)("p",{className:"text-sm text-green-800",children:[(0,t.jsx)("strong",{children:"Ready for Approval:"})," These users have verified their email addresses and are eligible for admin approval."]})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"table",children:[(0,t.jsx)("thead",{className:"table-header",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Name"}),(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Email"}),(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Phone"}),(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Registered"}),(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Email Status"}),(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:j.map(e=>(0,t.jsxs)(l.Fragment,{children:[(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"table-cell font-medium text-gray-900",children:e.name}),(0,t.jsx)("td",{className:"table-cell text-gray-600",children:e.email}),(0,t.jsx)("td",{className:"table-cell text-gray-600",children:e.phone}),(0,t.jsx)("td",{className:"table-cell text-gray-600",children:(0,c.p6)(e.createdAt)}),(0,t.jsx)("td",{className:"table-cell",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"✅ Email Verified"})}),(0,t.jsx)("td",{className:"table-cell",children:(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{onClick:()=>S(e._id),className:"btn-success text-sm",children:"Approve"}),(0,t.jsxs)("button",{onClick:()=>I(e._id),className:"flex items-center space-x-1 px-3 py-1 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-lg transition-colors text-sm",children:[(0,t.jsx)("span",{children:C.has(e._id)?"▼":"▶"}),(0,t.jsx)("span",{children:"Details"})]})]})})]}),C.has(e._id)&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"p-0",children:(0,t.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-6 border-l-4 border-green-400",children:[(0,t.jsx)("div",{className:"mb-6 p-4 bg-red-100 border border-red-300 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-red-600 text-xl",children:"\uD83D\uDEE1️"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"font-bold text-red-800",children:"SENSITIVE INFORMATION - ADMIN ACCESS"}),(0,t.jsx)("p",{className:"text-sm text-red-700 mt-1",children:"The following information contains highly sensitive personal, financial, and identity data. Handle with extreme care. Never share or discuss this information outside of authorized banking operations."})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border-l-4 border-red-400",children:[(0,t.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,t.jsx)("span",{className:"text-blue-600 mr-2",children:"\uD83D\uDC64"}),"Personal Information",(0,t.jsx)("span",{className:"ml-2 text-xs bg-red-100 text-red-700 px-2 py-1 rounded",children:"\uD83D\uDD12 SENSITIVE"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Full Legal Name:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900 font-medium",children:e.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Email Address:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:e.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Phone Number:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:e.phone})]}),(0,t.jsxs)("div",{className:"bg-red-50 p-2 rounded border border-red-200",children:[(0,t.jsx)("span",{className:"font-medium text-red-700",children:"\uD83C\uDD94 SSN/ID Number:"}),(0,t.jsx)("span",{className:"ml-2 text-red-900 font-mono font-bold",children:e.idNumber}),(0,t.jsx)("div",{className:"text-xs text-red-600 mt-1",children:"⚠️ Highly Sensitive - PII Data"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Registration Date:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:(0,c.p6)(e.createdAt)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Last Updated:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:(0,c.p6)(e.updatedAt)})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border-l-4 border-yellow-400",children:[(0,t.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,t.jsx)("span",{className:"text-green-600 mr-2",children:"\uD83D\uDCCD"}),"Address Information",(0,t.jsx)("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded",children:"\uD83D\uDD12 PRIVATE"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"bg-yellow-50 p-2 rounded border border-yellow-200",children:[(0,t.jsx)("span",{className:"font-medium text-yellow-700",children:"\uD83C\uDFE0 Complete Address:"}),(0,t.jsxs)("div",{className:"ml-2 text-yellow-900 font-medium mt-1",children:[e.address.street,(0,t.jsx)("br",{}),e.address.city,", ",e.address.state," ",e.address.zipCode,(0,t.jsx)("br",{}),e.address.country]}),(0,t.jsx)("div",{className:"text-xs text-yellow-600 mt-1",children:"⚠️ Residential Information - Handle with Care"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Street Address:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:e.address.street})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"City:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:e.address.city})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"State/Province:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:e.address.state})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"ZIP/Postal Code:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900 font-mono",children:e.address.zipCode})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Country:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:e.address.country})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[(0,t.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,t.jsx)("span",{className:"text-orange-600 mr-2",children:"⏳"}),"Approval Status"]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Email Verified:"}),(0,t.jsx)("span",{className:"ml-2 text-green-600",children:"✅ Yes"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Account Status:"}),(0,t.jsx)("span",{className:"ml-2 text-orange-600",children:"⏳ Pending Approval"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Registered:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:(0,c.p6)(e.createdAt)})]})]})]})]}),(0,t.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,t.jsx)("button",{onClick:()=>S(e._id),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors text-sm font-medium",children:"✅ Approve User"}),(0,t.jsx)("button",{onClick:()=>I(e._id),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors text-sm",children:"Collapse Details"})]})]})})})]},e._id))})]})})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Approved Users (",p.length,")"]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"table",children:[(0,t.jsx)("thead",{className:"table-header",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Name"}),(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Email"}),(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Account Number"}),(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Balance"}),(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Status"}),(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:p.map(e=>(0,t.jsxs)(l.Fragment,{children:[(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"table-cell font-medium text-gray-900",children:e.name}),(0,t.jsx)("td",{className:"table-cell text-gray-600",children:e.email}),(0,t.jsx)("td",{className:"table-cell text-gray-600 font-mono",children:e.accountNumber}),(0,t.jsx)("td",{className:"table-cell text-gray-600",children:(0,c.xG)(e.balance)}),(0,t.jsx)("td",{className:"table-cell",children:(0,t.jsx)("span",{className:"badge badge-success",children:"Active"})}),(0,t.jsx)("td",{className:"table-cell",children:(0,t.jsxs)("button",{onClick:()=>I(e._id),className:"flex items-center space-x-1 px-3 py-1 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-lg transition-colors text-sm",children:[(0,t.jsx)("span",{children:C.has(e._id)?"▼":"▶"}),(0,t.jsx)("span",{children:"Details"})]})})]}),C.has(e._id)&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"p-0",children:(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 border-l-4 border-blue-400",children:[(0,t.jsx)("div",{className:"mb-6 p-4 bg-red-100 border border-red-300 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-red-600 text-xl",children:"\uD83D\uDEE1️"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"font-bold text-red-800",children:"SENSITIVE INFORMATION - ADMIN ACCESS"}),(0,t.jsx)("p",{className:"text-sm text-red-700 mt-1",children:"The following information contains highly sensitive personal, financial, and identity data. Handle with extreme care. Never share or discuss this information outside of authorized banking operations."})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border-l-4 border-red-400",children:[(0,t.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,t.jsx)("span",{className:"text-blue-600 mr-2",children:"\uD83D\uDC64"}),"Personal Information",(0,t.jsx)("span",{className:"ml-2 text-xs bg-red-100 text-red-700 px-2 py-1 rounded",children:"\uD83D\uDD12 SENSITIVE"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Full Legal Name:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900 font-medium",children:e.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Email Address:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:e.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Phone Number:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:e.phone})]}),(0,t.jsxs)("div",{className:"bg-red-50 p-2 rounded border border-red-200",children:[(0,t.jsx)("span",{className:"font-medium text-red-700",children:"\uD83C\uDD94 SSN/ID Number:"}),(0,t.jsx)("span",{className:"ml-2 text-red-900 font-mono font-bold",children:e.idNumber}),(0,t.jsx)("div",{className:"text-xs text-red-600 mt-1",children:"⚠️ Highly Sensitive - PII Data"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Registration Date:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:(0,c.p6)(e.createdAt)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Last Updated:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:(0,c.p6)(e.updatedAt)})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border-l-4 border-yellow-400",children:[(0,t.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,t.jsx)("span",{className:"text-green-600 mr-2",children:"\uD83D\uDCCD"}),"Address Information",(0,t.jsx)("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-700 px-2 py-1 rounded",children:"\uD83D\uDD12 PRIVATE"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"bg-yellow-50 p-2 rounded border border-yellow-200",children:[(0,t.jsx)("span",{className:"font-medium text-yellow-700",children:"\uD83C\uDFE0 Complete Address:"}),(0,t.jsxs)("div",{className:"ml-2 text-yellow-900 font-medium mt-1",children:[e.address.street,(0,t.jsx)("br",{}),e.address.city,", ",e.address.state," ",e.address.zipCode,(0,t.jsx)("br",{}),e.address.country]}),(0,t.jsx)("div",{className:"text-xs text-yellow-600 mt-1",children:"⚠️ Residential Information - Handle with Care"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Street Address:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:e.address.street})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"City:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:e.address.city})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"State/Province:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:e.address.state})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"ZIP/Postal Code:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900 font-mono",children:e.address.zipCode})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Country:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:e.address.country})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 shadow-sm border-l-4 border-green-400",children:[(0,t.jsxs)("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[(0,t.jsx)("span",{className:"text-purple-600 mr-2",children:"\uD83C\uDFE6"}),"Financial Account Details",(0,t.jsx)("span",{className:"ml-2 text-xs bg-green-100 text-green-700 px-2 py-1 rounded",children:"\uD83D\uDCB0 FINANCIAL"})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"bg-green-50 p-2 rounded border border-green-200",children:[(0,t.jsx)("span",{className:"font-medium text-green-700",children:"\uD83C\uDFE6 Account Number:"}),(0,t.jsx)("span",{className:"ml-2 text-green-900 font-mono font-bold text-lg",children:e.accountNumber}),(0,t.jsx)("div",{className:"text-xs text-green-600 mt-1",children:"\uD83D\uDCB3 BankyApp Primary Account"})]}),(0,t.jsxs)("div",{className:"bg-blue-50 p-2 rounded border border-blue-200",children:[(0,t.jsx)("span",{className:"font-medium text-blue-700",children:"\uD83D\uDCB0 Current Balance:"}),(0,t.jsx)("span",{className:"ml-2 text-blue-900 font-bold text-lg",children:(0,c.xG)(e.balance)}),(0,t.jsx)("div",{className:"text-xs text-blue-600 mt-1",children:"\uD83D\uDCB5 Available Funds"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Email Verification:"}),(0,t.jsx)("span",{className:"ml-2 ".concat(e.emailVerified?"text-green-600":"text-red-600"),children:e.emailVerified?"✅ Verified":"❌ Unverified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Account Status:"}),(0,t.jsx)("span",{className:"ml-2 ".concat(e.approved?"text-green-600":"text-yellow-600"),children:e.approved?"✅ Active & Approved":"⏳ Pending Review"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Account Type:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:"Individual Banking Account"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Account Opened:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:(0,c.p6)(e.createdAt)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium text-gray-600",children:"Last Activity:"}),(0,t.jsx)("span",{className:"ml-2 text-gray-900",children:(0,c.p6)(e.updatedAt)})]})]})]})]}),(0,t.jsx)("div",{className:"mt-6 flex justify-end space-x-3",children:(0,t.jsx)("button",{onClick:()=>I(e._id),className:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors text-sm",children:"Collapse Details"})})]})})})]},e._id))})]})})]})]}),"transactions"===o&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Transaction Management"}),(0,t.jsx)("button",{onClick:P,className:"btn-primary",children:"Refresh"})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"table",children:[(0,t.jsx)("thead",{className:"table-header",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Amount"}),(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"From"}),(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"To"}),(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Type"}),(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Status"}),(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Date"}),(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Description"}),(0,t.jsx)("th",{className:"table-cell font-medium text-gray-900",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:y.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"table-cell font-medium text-gray-900",children:(0,c.xG)(e.amount)}),(0,t.jsx)("td",{className:"table-cell text-gray-600",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.senderName||"N/A"}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.senderAccount})]})}),(0,t.jsx)("td",{className:"table-cell text-gray-600",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.receiverName||"N/A"}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.receiverAccount})]})}),(0,t.jsx)("td",{className:"table-cell",children:(0,t.jsx)("span",{className:"badge ".concat("internal"===e.type?"badge-info":"deposit"===e.type?"badge-success":"badge-warning"),children:e.type})}),(0,t.jsx)("td",{className:"table-cell",children:(0,t.jsx)("span",{className:"badge ".concat((0,c.Ep)(e.status)),children:e.status})}),(0,t.jsx)("td",{className:"table-cell text-gray-600",children:(0,c.p6)(e.createdAt)}),(0,t.jsx)("td",{className:"table-cell text-gray-600",children:(0,t.jsx)("div",{className:"max-w-xs truncate",title:e.narration,children:e.narration||"No description"})}),(0,t.jsx)("td",{className:"table-cell",children:"pending"===e.status?(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{onClick:()=>T(e._id,"approve"),className:"px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-sm transition-colors",title:"Approve Transaction",children:"✓ Approve"}),(0,t.jsx)("button",{onClick:()=>T(e._id,"reject"),className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded text-sm transition-colors",title:"Reject Transaction",children:"✗ Reject"})]}):(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["completed"===e.status?"✓ Processed":"✗ Rejected",e.processedAt&&(0,t.jsx)("div",{className:"text-xs",children:(0,c.p6)(e.processedAt)})]})})]},e._id))})]})}),0===y.length&&(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-600",children:"No transactions found"})})]})]})]})]})]})}}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=4830)}),_N_E=e.O()}]);