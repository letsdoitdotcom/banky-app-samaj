# LumaTrust Banking Platform - Block Search Engine Crawlers
# Additional server-level protection against indexing

# Block all search engine crawlers
<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Block common search engine bots
    RewriteCond %{HTTP_USER_AGENT} (googlebot|bingbot|slurp|duckduckbot|baiduspider|yandexbot|facebookexternalhit|twitterbot|linkedinbot) [NC]
    RewriteRule ^(.*)$ - [F,L]
</IfModule>

# Set security headers
<IfModule mod_headers.c>
    Header always set X-Robots-Tag "noindex, nofollow, noarchive, nosnippet, noimageindex"
    Header always set X-Frame-Options "DENY"
    Header always set X-Content-Type-Options "nosniff"
    Header always set Referrer-Policy "no-referrer"
    Header always set Permissions-Policy "camera=(), microphone=(), geolocation=(), interest-cohort=()"
</IfModule>

# Prevent access to sensitive files
<Files ~ "^\.">
    Order allow,deny
    Deny from all
</Files>

# Block access to configuration files
<FilesMatch "\.(env|config|json|lock)$">
    Order allow,deny
    Deny from all
</FilesMatch>